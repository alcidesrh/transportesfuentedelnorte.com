<turbo-frame id="reservacion-form">
	<div class="px-3 sm:px-5" data-controller="pagar" data-pagar-primer-render-value="{{primer_render}}">
		{% if error_tarjeta %}
			<div class="text-red-700 text-center m-auto mb-10 break-words">
				{{error_tarjeta}}
			</div>
		{% endif %}

		{{ form_start(form)}}
		<div class="m-auto w-fit">
			<h1 class="mb-5 font-medium text-lg">{{'Información personal' | trans}}</h1>

			<div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-5 max-w-lg sm:max-w-[600px] md:max-w-2xl lg:max-w-5xl">
				{{ form_row(form.nombre)}}
				{{ form_row(form.apellido)}}
				{{ form_row(form.nit)}}
				{{ form_row(form.telefono, {row_attr:{class: 'mb-0'}})}}
				{{ form_row(form.email, {row_attr:{class: 'mb-0'}})}}

			</div>
		</div>

		<div class="border-t border-slate-300 max-w-sm md:max-w-lg lg:max-w-2xl xl:max-w-4xl m-auto my-8 sm:my-15"></div>

		<div class="w-fit m-auto  max-w-lg sm:max-w-[600px] md:max-w-2xl lg:max-w-5xl">
			<h1 class="mt-8 mb-5 font-medium text-lg">{{'Datos de la tarjeta' | trans}}</h1>

			<div class="mb-10">
				{{ component('alert', {text: 'No guardamos ningún dato de la tarjeta. Solo se usará para pagar la compra.' | trans}) }}
			</div>

			<div class="flex mb-5 gap-5">
				{{ form_row(form.precio, {attr: {class: 'max-w-[130px]'}})}}
				{{ form_row(form.tipo_moneda, { attr: {class: 'flex gap-5'}})}}
			</div>

			<div class="grid sm:grid-cols-2 gap-5">
				{{ form_row(form.numero)}}
				<div class="max-w-[100px]">
					{{ form_row(form.codigo_seguridad)}}
				</div>
				<div class="flex gap-5">
					<div class="md:w-[300px]">
						{{ form_row(form.expira_mes)}}
					</div>
					<div class="md:w-[300px]">
						{{ form_row(form.expira_year)}}
					</div>
				</div>
			</div>
		</div>

		<div class="flex justify-between m-auto mt-14 max-w-lg sm:max-w-[600px] md:max-w-2xl lg:max-w-5xl">
			{{ component('button_link', {text: 'Atrás' | trans, icon: {left: true, name: 'arrow_back'}, link: path('asientos', {'reservacion': reservacion.id})}) }}
			{{ component('button_link', {text: 'Cancelar' | trans, icon: {left: true, name: 'block'}, class: 'cancel sm', link: path('cancelar'), attr: 'data-turbo=false'}) }}
			{{ component('button', {text: 'Pagar' | trans, icon: {left: true, name: 'payments'}, attr: {'type': 'submit', 'data-action': 'pagar#mensaje'}}) }}
		</div>
		{{ form_end(form) }}


	</div>
</turbo-frame>
